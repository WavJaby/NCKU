"use strict";import{a as m,br as a,div as u,h1 as d,img as p,mountableStylesheet as h,p as f,span as g,text as b}from"../domHelper_v001.min.js";import{fetchApi as v}from"../lib.js";export default function(n){console.log("Home Init");const e=g(null,"slideOut",g("++")),t=h("./res/pages/home.css"),i=u("newsPanel",d("最新消息","title"),u("splitLine"),u("items")),r=u("bulletinPanel",d("資訊","title"),u("splitLine"),u("items")),l=u("siteInfo",d(null,"title",p("res/assets/icon.svg",""),g("NCKU"),e),f(null,"description",b("集合"),p("res/assets/courseNcku_logo.png","國立成功大學課程資訊及選課系統"),p("res/assets/nckuHub_logo.svg","NCKUHub"),p("res/assets/UrSchool_logo.png","UrSchool"),a(),b("眾多功能，提供更好的選課環境"))),c={enrollmentAnnouncement:"選課公告",enrollmentInformation:"選課資訊",enrollmentFAQs:"選課FAQs",exploringTainan:"踏溯台南路線選擇系統",serviceRecommended:"服務學習推薦專區",contactInformation:"課程資訊服務聯絡窗口"},o=document.createElement("link");function s(){var e=1-n.element.scrollTop/l.offsetHeight;l.style.opacity=e.toString()}return o.rel="canonical",o.href="https://wavjaby.github.io/NCKUpp/",u("home",{onRender:function(){console.log("Home Render"),t.mount(),v("/homeInfo").then(e=>{if(null!=e&&e.success&&e.data){var e=e.data,n=i.lastElementChild;for(const s of e.news){var t=s.contents.map(e=>e instanceof Object?m(e.content,e.url,null,null,{target:"_blank"}):g(e));n.appendChild(u("news",g(s.department,"department"),f(null,"content",t),g(s.date,"date")))}var l=r.lastElementChild,o=e.bulletin;l.appendChild(m("原選課系統","https://course.ncku.edu.tw/","bulletin",null,{target:"_blank"}));for(const a in o)l.appendChild(m(c[a],o[a],"bulletin",null,{target:"_blank"}))}})},onPageClose:function(){console.log("Home Close"),t.disable(),e.style.width=null,document.head.removeChild(o),n.element.removeEventListener("scroll",s)},onPageOpen:function(){console.log("Home Open"),window.navMenuClose(),t.enable(),setTimeout(()=>e.style.width=e.firstElementChild.offsetWidth+"px",700),document.head.appendChild(o),n.element.addEventListener("scroll",s)}},l,u("panels",i,r))}