"use strict";const n="function"==typeof window.history.pushState;let r=null,m=(String.prototype.toUnicode=function(){return this.replace(/[^\x00-\xFF]/g,function(t){return"\\u"+t.charCodeAt(0).toString(16).padStart(4,"0")})},new URLSearchParams(window.location.search));function g(){window.urlHashData=1<window.location.hash.length?JSON.parse(atob(window.location.hash.slice(1))):{}}function p(){m=new URLSearchParams(window.location.search)}function i(e,n){for(let t=0;t<n.length;t++){var a=n[t];a instanceof Array?i(e,a):a instanceof Element||a instanceof Text?e.appendChild(a):a instanceof u||a instanceof f?a.init(e):a instanceof o?new u(a).init(e):a instanceof Object?Object.assign(e,a):r&&a&&r.warn(e,"options type error: ",a)}}function c(t,e){t instanceof o?e.textContent=new a(t).init(e):t instanceof a?e.textContent=t.init(e):"string"==typeof t||"number"==typeof t?e.textContent=t:r&&r.warn(e,"text type error: ",t)}function l(t,e){t instanceof s?t.init(e):"string"==typeof t?e.className+=t:r&&r.warn(e,"classname type error: ",t)}function o(t){const n=[];this.state=void 0!==t?t:null,this.addListener=function(t){n.push(t)},this.removeListener=function(t){t=n.indexOf(t);-1!==t&&n.splice(t,1)},this.set=function(e,t){if(this.state!==e||t){this.state=e;for(let t=0;t<n.length;t++)n[t](e)}},this.update=function(){for(let t=0;t<n.length;t++)n[t](this.state)}}function t(t,e){if(null==t)throw new TypeError("State signal not given");return new u(t,e)}function u(e,n){let a,o;function r(t){t=n?n(t):t;o.replaceChild(t,a),a=t}this.init=function(t){(o=t).appendChild(a=n?n(e.state):e.state||document.createElement("div")),e.addListener(r)}}function e(t,e){if(null==t)throw new TypeError("State signal not given");return new a(t,e)}function a(e,n){let a=null;e.addListener(function(t){a.textContent=n?n(t):t}),this.init=function(t){return a=t,n?n(e.state):e.state}}function s(...t){const o=t;this.add=this.remove=this.toggle=this.contains=function(){},this.init=function(a){if(a.classList){for(let t=0;t<o.length;t++)a.classList.add(o[t]);this.add=function(t){a.classList.add(t)},this.remove=function(t){a.classList.remove(t)},this.toggle=function(t){return a.classList.toggle(t)},this.contains=function(t){return a.classList.contains(t)}}else a.className+=o.join(" "),this.add=function(...t){Array.prototype.push.apply(o,t),a.className=o.join(" ")},this.remove=function(...e){for(let t=0;t<e.length;t++){var n=o.indexOf(e[t]);-1!==n&&o.splice(n,1)}a.className=o.join(" ")},this.toggle=function(t){var e=o.indexOf(t);let n;return n=-1!==e?(o.splice(e,1),!1):(o.push(t),!0),a.className=o.join(" "),n},this.contains=function(t){return-1!==o.indexOf(t)}}}function v(t,...e){this.url=t,this.parameters=e,this.loding=!1}function d(a,c,e,l,o){const u=this,r=this.element=document.createElement("div"),s=(r.className="router",{}),i={};let d=null,h=null;function t(t,n,a){if(t=t||m.get("page")||e,h!==t||n){c[t]&&l[t]||(t=e);{var o=t,r=n,i=a;let e=s[o];e?(f(e,o,r),i&&i()):(e=l[o])instanceof v?e.loding||(e.loding=!0,t=window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/")+1),import(t+e.url).then(function(t){t=t.default(u,...e.parameters);t.pageId=o,f(s[o]=t,o,r),e.loding=!1,i&&i()})):(e.pageId=o,f(s[o]=e,o,r),i&&i())}}}function f(t,e,n){h!==e&&(document.title=a+" "+c[e],m.set("page",e),n||window.pushHistory(),d?(i[h]=r.scrollTop,d.onPageClose&&d.onPageClose(),r.replaceChild(t,d)):(r.appendChild(t),o&&r.appendChild(o)),d=t),t.render||(t.render=!0,t.onRender()),r.scrollTop=i[e]||0,t.onPageOpen&&t.onPageOpen(!!n),u.onPageOpen&&u.onPageOpen(h,e,t),h=e}p(),g(),document.title=a+" "+c[m.get("page")||e],window.addEventListener("popstate",function(){p(),g(),t(null,!0)}),this.openPage=t,this.initFirstPage=function(){t(null,!0)},this.getPageStorage=function(t,e){var n={save:function(){localStorage.setItem(t.pageId,JSON.stringify(this.data))},data:null};try{var a=localStorage.getItem(t.pageId);a&&(n.data=JSON.parse(a)),n.data&&n.data.saveVersion===e||(n.data={saveVersion:e},n.save())}catch(t){n.data={}}return n},this.getCurrentPage=function(){return h},this.onPageOpen=null}function h(t,e){if(null==t)throw new TypeError("State signal not given");return new f(t,e)}function f(t,e){const n=document.createElement("div");let a=t.state,o;t.addListener(function(t){a!==t&&((a=t)?(o.replaceChild(e,n),e.onRender&&e.onRender()):(e.onDestroy&&e.onDestroy(),o.replaceChild(n,e)))}),this.init=function(t){o=t,a&&e.onRender&&e.onRender(),t.appendChild(a?e:n)}}function w(t,...e){var n=document.createElement("div");return t&&l(t,n),e.length&&i(n,e),n}function E(t,...e){var n=document.createElement("nav");return t&&l(t,n),e.length&&i(n,e),n}function y(t,...e){var n=document.createElement("ul");return t&&l(t,n),e.length&&i(n,e),n}function b(t,...e){var n=document.createElement("li");return t&&l(t,n),e.length&&i(n,e),n}function S(t,e,n,...a){var o=document.createElement("input");return t&&l(t,o),e&&(o.placeholder=e),n&&(o.id=n),a.length&&i(o,a),o}function x(t,e,n,...a){var o=document.createElement("label");return t&&l(t,o),D(e)&&c(e,o),n&&(n.id||(n.id=Math.random().toString(16).substring(2)),o.htmlFor=n.id),a.length&&i(o,a),o}function C(t,e,...n){var a=document.createElement("label");return t&&l(t,a),D(e)&&c(e,a),n.length&&i(a,n),a}function N(t,e,n,...a){var o=document.createElement("input");return o.type="checkbox",t&&l(t,o),o.onchange=e,n&&(o.id=n),a.length&&i(o,a),o}function L(t,e,n,a,...o){var r=document.createElement("input"),a=(r.type="checkbox",r.onchange=a,r.checked=!!n,document.createElement("div")),n=(a.className="checkmark",document.createElement("label"));return n.className="checkboxWithName noSelect",t&&l(t,n),n.appendChild(r),n.appendChild(a),n.appendChild(document.createTextNode(e)),n.input=r,o.length&&i(n,o),n}function O(t,e,n,...a){var o=document.createElement("button");return t&&l(t,o),D(e)&&c(e,o),n&&(o.onclick=n),a.length&&i(o,a),o}function P(t,...e){var n=document.createElement("table");return t&&l(t,n),e.length&&i(n,e),n}function k(t,...e){var n=document.createElement("thead");return t&&l(t,n),e.length&&i(n,e),n}function T(t,...e){var n=document.createElement("tbody");return t&&l(t,n),e.length&&i(n,e),n}function R(t,...e){var n=document.createElement("colgroup");return t&&l(t,n),e.length&&i(n,e),n}function I(t,...e){var n=document.createElement("col");return t&&l(t,n),e.length&&i(n,e),n}function H(t,...e){var n=document.createElement("tr");return t&&l(t,n),e.length&&i(n,e),n}function j(t,e,...n){var a=document.createElement("th");return e&&l(e,a),D(t)&&c(t,a),n.length&&i(a,n),a}function A(t,e,...n){var a=document.createElement("td");return e&&l(e,a),D(t)&&c(t,a),n.length&&i(a,n),a}function F(t,e,...n){var a=document.createElement("h1");return e&&l(e,a),D(t)&&c(t,a),n.length&&i(a,n),a}function U(t,e,...n){var a=document.createElement("h2");return e&&l(e,a),D(t)&&c(t,a),n.length&&i(a,n),a}function J(t,e,...n){var a=document.createElement("h3");return e&&l(e,a),D(t)&&c(t,a),n.length&&i(a,n),a}function M(t,e,...n){var a=document.createElement("h4");return e&&l(e,a),D(t)&&c(t,a),n.length&&i(a,n),a}function V(t,e,...n){var a=document.createElement("h5");return e&&l(e,a),D(t)&&c(t,a),n.length&&i(a,n),a}function W(t,e,...n){var a=document.createElement("h6");return e&&l(e,a),D(t)&&c(t,a),n.length&&i(a,n),a}function z(t,e,n,a,...o){var r=document.createElement("a");return n&&l(n,r),e&&(r.href=e),D(t)&&c(t,r),a&&(r.onclick=a),o.length&&i(r,o),r}function B(t,e,...n){var a=document.createElement("p");return e&&l(e,a),D(t)&&c(t,a),n.length&&i(a,n),a}function Q(t,e,...n){var a=document.createElement("span");return e&&l(e,a),D(t)&&c(t,a),n.length&&i(a,n),a}function q(t){var e;return r&&"string"!=typeof t?(e=document.createTextNode(t),r.warn(e,"text type error: ",t),e):document.createTextNode(t)}function G(){return document.createElement("br")}function K(t,e,n,...a){var o=document.createElement("img");return n&&l(n,o),t&&(o.src=t),null!=e?o.alt=e:r&&r.warn(o,"Image alt not given"),a.length&&i(o,a),o}function X(t,e,n,...a){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");return o.innerHTML=t,n&&o.setAttributeNS(null,"class",n),e&&o.setAttributeNS(null,"viewBox",e),a.length&&i(o,a),o}function Y(t){const e=document.createElement("link");return e.rel="stylesheet",e.href=t,e.mount=function(){document.head.appendChild(e)},e.unmount=function(){document.head.removeChild(e)},e.enable=function(){e.disabled=!1},e.disable=function(){e.disabled=!0},e}function Z(...t){var e=document.createElement("footer");return t.length&&i(e,t),e}function $(t,e,...n){var a=document.createElement("iframe");return e&&l(e,a),t&&(a.src=t),n.length&&i(a,n),a}function _(t,e,...n){t=document.createElement(t);return e&&l(e,t),n.length&&i(t,n),t}function tt(){r=console}function D(t){return null!=t}window.urlHashData=null,g(),window.pushHistory=function(){var t=new URL(window.location),e=JSON.stringify(window.urlHashData);t.hash="{}"===e?"":btoa(e.toUnicode()),t.search=m.toString(),r&&r.log("Append history",window.urlHashData,Object.fromEntries(m)),n?window.history.pushState({},document.title,t):window.location=t};export{o as Signal,h as ShowIf,t as State,e as TextState,s as ClassList,d as QueryRouter,v as RouterLazyLoad,tt as doomHelperDebug,w as div,E as nav,y as ul,b as li,x as labelFor,C as label,S as input,N as checkbox,L as checkboxWithName,O as button,P as table,k as thead,T as tbody,R as colgroup,I as col,j as th,H as tr,A as td,F as h1,U as h2,J as h3,M as h4,V as h5,W as h6,z as a,B as p,Q as span,q as text,G as br,K as img,X as svg,Y as mountableStylesheet,Z as footer,$ as iframe,_ as dom};
//# sourceMappingURL=domHelper.min.js.map