"use strict";const t="function"==typeof window.history.pushState;let n=null;String.prototype.toUnicode=function(){return this.replace(/[^\x00-\xFF]/g,function(t){return"\\u"+t.charCodeAt(0).toString(16).padStart(4,"0")})};let e=new URLSearchParams(window.location.search);function o(){window.urlHashData=window.location.hash.length>1?JSON.parse(atob(window.location.hash.slice(1))):{}}function c(){e=new URLSearchParams(window.location.search)}function i(t,e){for(let o=0;o<e.length;o++){const c=e[o];c instanceof Array?i(t,c):c instanceof Element||c instanceof Text?t.appendChild(c):c instanceof l||c instanceof w?c.init(t):c instanceof s?new l(c).init(t):c instanceof Object?Object.assign(t,c):n&&c&&n.warn(t,"options type error: ",c)}}function r(t,e){t instanceof s?e.textContent=new h(t).init(e):t instanceof h?e.textContent=t.init(e):"string"==typeof t||"number"==typeof t?e.textContent=t:n&&n.warn(e,"text type error: ",t)}function a(t,e){t instanceof f?t.init(e):"string"==typeof t?e.className+=t:n&&n.warn(e,"classname type error: ",t)}function s(t){const n=[];this.state=void 0!==t?t:null,this.addListener=function(t){n.push(t)},this.removeListener=function(t){const e=n.indexOf(t);-1!==e&&n.splice(e,1)},this.set=function(t,e){if(this.state!==t||e){this.state=t;for(let e=0;e<n.length;e++)n[e](t)}},this.update=function(){for(let t=0;t<n.length;t++)n[t](this.state)}}function u(t,n){if(null==t)throw new TypeError("State signal not given");return new l(t,n)}function l(t,n){let e,o;function c(t){const c=n?n(t):t;o.replaceChild(c,e),e=c}this.init=function(i){o=i,i.appendChild(e=n?n(t.state):t.state?t.state:document.createElement("div")),t.addListener(c)}}function d(t,n){if(null==t)throw new TypeError("State signal not given");return new h(t,n)}function h(t,n){let e=null;t.addListener(function(t){e.textContent=n?n(t):t}),this.init=function(o){return e=o,n?n(t.state):t.state}}function f(...t){const n=t;this.add=this.remove=this.toggle=this.contains=function(){},this.init=function(t){if(t.classList){for(let e=0;e<n.length;e++)t.classList.add(n[e]);this.add=function(n){t.classList.add(n)},this.remove=function(n){t.classList.remove(n)},this.toggle=function(n){return t.classList.toggle(n)},this.contains=function(n){return t.classList.contains(n)}}else t.className+=n.join(" "),this.add=function(...e){Array.prototype.push.apply(n,e),t.className=n.join(" ")},this.remove=function(...e){for(let t=0;t<e.length;t++){const o=n.indexOf(e[t]);-1!==o&&n.splice(o,1)}t.className=n.join(" ")},this.toggle=function(e){const o=n.indexOf(e);let c;return-1!==o?(n.splice(o,1),c=!1):(n.push(e),c=!0),t.className=n.join(" "),c},this.contains=function(t){return-1!==n.indexOf(t)}}}function m(t,...n){this.url=t,this.parameters=n,this.loding=!1}function g(t,n,i,r,a){const s=this,u=this.element=document.createElement("div");u.className="router";const l={},d={};let h=null,f=null;function g(t,o,c){t||(t=e.get("page")||i),(f!==t||o)&&(n[t]&&r[t]||(t=i),function(t,n,e){let o=l[t];if(o)return p(o,t,n),void(e&&e());if((o=r[t])instanceof m){if(!o.loding){o.loding=!0;const c=window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/")+1);import(c+o.url).then(function(c){const i=c.default(s,...o.parameters);i.pageId=t,p(l[t]=i,t,n),o.loding=!1,e&&e()})}}else o.pageId=t,p(l[t]=o,t,n),e&&e()}(t,o,c))}function p(o,c,i){f!==c&&(document.title=t+" "+n[c],e.set("page",c),i||window.pushHistory(),h?(d[f]=u.scrollTop,h.onPageClose&&h.onPageClose(),u.replaceChild(o,h)):(u.appendChild(o),a&&u.appendChild(a)),h=o),o.render||(o.render=!0,o.onRender()),u.scrollTop=d[c]||0,o.onPageOpen&&o.onPageOpen(!!i),s.onPageOpen&&s.onPageOpen(f,c,o),f=c}c(),o(),document.title=t+" "+n[e.get("page")||i],window.addEventListener("popstate",function(){c(),o(),g(null,!0)}),this.openPage=g,this.initFirstPage=function(){g(null,!0)},this.getPageStorage=function(t,n){const e={save:function(){localStorage.setItem(t.pageId,JSON.stringify(this.data))},data:null};try{const o=localStorage.getItem(t.pageId);o&&(e.data=JSON.parse(o)),e.data&&e.data.saveVersion===n||(e.data={saveVersion:n},e.save())}catch(t){e.data={}}return e},this.getCurrentPage=function(){return f},this.onPageOpen=null}function p(t,n){if(null==t)throw new TypeError("State signal not given");return new w(t,n)}function w(t,n){const e=document.createElement("div");let o,c=t.state;t.addListener(function(t){c!==t&&(c=t,t?(o.replaceChild(n,e),n.onRender&&n.onRender()):(n.onDestroy&&n.onDestroy(),o.replaceChild(e,n)))}),this.init=function(t){o=t,c&&n.onRender&&n.onRender(),t.appendChild(c?n:e)}}function E(t,...n){const e=document.createElement("div");return t&&a(t,e),n.length&&i(e,n),e}function y(t,...n){const e=document.createElement("nav");return t&&a(t,e),n.length&&i(e,n),e}function v(t,...n){const e=document.createElement("ul");return t&&a(t,e),n.length&&i(e,n),e}function b(t,...n){const e=document.createElement("li");return t&&a(t,e),n.length&&i(e,n),e}function S(t,n,e,...o){const c=document.createElement("input");return t&&a(t,c),n&&(c.placeholder=n),e&&(c.id=e),o.length&&i(c,o),c}function x(t,n,e,...o){const c=document.createElement("label");return t&&a(t,c),tt(n)&&r(n,c),e&&(e.id||(e.id=Math.random().toString(16).substring(2)),c.htmlFor=e.id),o.length&&i(c,o),c}function C(t,n,...e){const o=document.createElement("label");return t&&a(t,o),tt(n)&&r(n,o),e.length&&i(o,e),o}function N(t,n,e,...o){const c=document.createElement("input");return c.type="checkbox",t&&a(t,c),c.onchange=n,e&&(c.id=e),o.length&&i(c,o),c}function O(t,n,e,o,...c){const r=document.createElement("input");r.type="checkbox",r.onchange=o,r.checked=!!e;const s=document.createElement("div");s.className="checkmark";const u=document.createElement("label");return u.className="checkboxWithName noSelect",t&&a(t,u),u.appendChild(r),u.appendChild(s),u.appendChild(document.createTextNode(n)),u.input=r,c.length&&i(u,c),u}function L(t,n,e,...o){const c=document.createElement("button");return t&&a(t,c),tt(n)&&r(n,c),e&&(c.onclick=e),o.length&&i(c,o),c}function P(t,...n){const e=document.createElement("table");return t&&a(t,e),n.length&&i(e,n),e}function T(t,...n){const e=document.createElement("thead");return t&&a(t,e),n.length&&i(e,n),e}function k(t,...n){const e=document.createElement("tbody");return t&&a(t,e),n.length&&i(e,n),e}function I(t,...n){const e=document.createElement("colgroup");return t&&a(t,e),n.length&&i(e,n),e}function R(t,...n){const e=document.createElement("col");return t&&a(t,e),n.length&&i(e,n),e}function j(t,...n){const e=document.createElement("tr");return t&&a(t,e),n.length&&i(e,n),e}function H(t,n,...e){const o=document.createElement("th");return n&&a(n,o),tt(t)&&r(t,o),e.length&&i(o,e),o}function A(t,n,...e){const o=document.createElement("td");return n&&a(n,o),tt(t)&&r(t,o),e.length&&i(o,e),o}function D(t,n,...e){const o=document.createElement("h1");return n&&a(n,o),tt(t)&&r(t,o),e.length&&i(o,e),o}function U(t,n,...e){const o=document.createElement("h2");return n&&a(n,o),tt(t)&&r(t,o),e.length&&i(o,e),o}function F(t,n,...e){const o=document.createElement("h3");return n&&a(n,o),tt(t)&&r(t,o),e.length&&i(o,e),o}function J(t,n,...e){const o=document.createElement("h4");return n&&a(n,o),tt(t)&&r(t,o),e.length&&i(o,e),o}function M(t,n,...e){const o=document.createElement("h5");return n&&a(n,o),tt(t)&&r(t,o),e.length&&i(o,e),o}function V(t,n,...e){const o=document.createElement("h6");return n&&a(n,o),tt(t)&&r(t,o),e.length&&i(o,e),o}function B(t,n,e,o,...c){const s=document.createElement("a");return e&&a(e,s),n&&(s.href=n),tt(t)&&r(t,s),o&&(s.onclick=o),c.length&&i(s,c),s}function W(t,n,...e){const o=document.createElement("p");return n&&a(n,o),tt(t)&&r(t,o),e.length&&i(o,e),o}function q(t,n,...e){const o=document.createElement("span");return n&&a(n,o),tt(t)&&r(t,o),e.length&&i(o,e),o}function z(t){if(n&&"string"!=typeof t){const e=document.createTextNode(t);return n.warn(e,"text type error: ",t),e}return document.createTextNode(t)}function G(){return document.createElement("br")}function K(t,e,o,...c){const r=document.createElement("img");return o&&a(o,r),t&&(r.src=t),null!=e?r.alt=e:n&&n.warn(r,"Image alt not given"),c.length&&i(r,c),r}function Q(t,n,e,...o){const c=document.createElementNS("http://www.w3.org/2000/svg","svg");return c.innerHTML=t,e&&c.setAttributeNS(null,"class",e),n&&c.setAttributeNS(null,"viewBox",n),o.length&&i(c,o),c}function X(t){const n=document.createElement("link");return n.rel="stylesheet",n.href=t,n.mount=function(){document.head.appendChild(n)},n.unmount=function(){document.head.removeChild(n)},n.enable=function(){n.disabled=!1},n.disable=function(){n.disabled=!0},n}function Y(...t){const n=document.createElement("footer");return t.length&&i(n,t),n}function Z(t,n,...e){const o=document.createElement("iframe");return n&&a(n,o),t&&(o.src=t),e.length&&i(o,e),o}function $(t,n,...e){const o=document.createElement(t);return n&&a(n,o),e.length&&i(o,e),o}function _(){n=console}function tt(t){return null!=t}window.urlHashData=null,o(),window.pushHistory=function(){const o=new URL(window.location),c=JSON.stringify(window.urlHashData);o.hash="{}"===c?"":btoa(c.toUnicode()),o.search=e.toString(),n&&n.log("Append history",window.urlHashData,Object.fromEntries(e)),t?window.history.pushState({},document.title,o):window.location=o};export{s as Signal,p as ShowIf,u as State,d as TextState,f as ClassList,g as QueryRouter,m as RouterLazyLoad,_ as doomHelperDebug,E as div,y as nav,v as ul,b as li,x as labelFor,C as label,S as input,N as checkbox,O as checkboxWithName,L as button,P as table,T as thead,k as tbody,I as colgroup,R as col,H as th,j as tr,A as td,D as h1,U as h2,F as h3,J as h4,M as h5,V as h6,B as a,W as p,q as span,z as text,G as br,K as img,Q as svg,X as mountableStylesheet,Y as footer,Z as iframe,$ as dom};