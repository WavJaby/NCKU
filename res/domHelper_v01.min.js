"use strict";const t="function"==typeof window.history.pushState;let n=null;String.prototype.toUnicode=function(){return this.replace(/[^\x00-\xFF]/g,function(t){return"\\u"+t.charCodeAt(0).toString(16).padStart(4,"0")})};let e=new URLSearchParams(window.location.search);function o(){window.urlHashData=window.location.hash.length>1?JSON.parse(atob(window.location.hash.slice(1))):{}}function c(){e=new URLSearchParams(window.location.search)}function i(t,e){for(let o=0;o<e.length;o++){const c=e[o];c instanceof Array?i(t,c):c instanceof Element||c instanceof Text?t.appendChild(c):c instanceof a||c instanceof w?c.init(t):c instanceof s?new a(c).init(t):c instanceof Object?Object.assign(t,c):n&&c&&n.warn(t,"options type error: ",c)}}function r(t,e){t instanceof s?e.textContent=new h(t).init(e):t instanceof h?e.textContent=t.init(e):"string"==typeof t||"number"==typeof t?e.textContent=t:n&&n.warn(e,"text type error: ",t)}function u(t,e){t instanceof f?t.init(e):"string"==typeof t?e.className+=t:n&&n.warn(e,"classname type error: ",t)}function s(t){const n=[];this.state=void 0!==t?t:null,this.addListener=function(t){n.push(t)},this.removeListener=function(t){const e=n.indexOf(t);-1!==e&&n.splice(e,1)},this.set=function(t,e){if(this.state!==t||e){this.state=t;for(let e=0;e<n.length;e++)n[e](t)}},this.update=function(){for(let t=0;t<n.length;t++)n[t](this.state)}}function l(t,n){if(null==t)throw new TypeError("State signal not given");return new a(t,n)}function a(t,n){let e,o;function c(t){const c=n?n(t):t;o.replaceChild(c,e),e=c}this.init=function(i){o=i,i.appendChild(e=n?n(t.state):t.state?t.state:document.createElement("div")),t.addListener(c)}}function d(t,n){if(null==t)throw new TypeError("State signal not given");return new h(t,n)}function h(t,n){let e=null;t.addListener(function(t){e.textContent=n?n(t):t}),this.init=function(o){return e=o,n?n(t.state):t.state}}function f(...t){const n=t;this.add=this.remove=this.toggle=this.contains=function(){},this.init=function(t){if(t.classList){for(let e=0;e<n.length;e++)t.classList.add(n[e]);this.add=function(n){t.classList.add(n)},this.remove=function(n){t.classList.remove(n)},this.toggle=function(n){return t.classList.toggle(n)},this.contains=function(n){t.classList.contains(n)}}else t.className+=n.join(" "),this.add=function(...e){Array.prototype.push.apply(n,e),t.className=n.join(" ")},this.remove=function(...e){for(let t=0;t<e.length;t++){const o=n.indexOf(e[t]);-1!==o&&n.splice(o,1)}t.className=n.join(" ")},this.toggle=function(e){const o=n.indexOf(e);let c;return-1!==o?(n.splice(o,1),c=!1):(n.push(e),c=!0),t.className=n.join(" "),c},this.contains=function(t){return-1!==n.indexOf(t)}}}function m(t,...n){this.url=t,this.parameters=n,this.loding=!1}function g(t,n,i,r,u){const s=this,l=this.element=document.createElement("div");l.className="router";const a={},d={};let h,f=null;function g(t,o){t||(t=e.get("page")||i),(f!==t||o)&&(n[t]&&r[t]||(t=i),function(t,n){let e=a[t];if(e)return void p(e,t,n);(e=r[t])instanceof m?e.loding||(e.loding=!0,import(e.url).then(function(o){p(a[t]=o.default(s,...e.parameters),t,n),e.loding=!1})):p(a[t]=e,t,n)}(t,o))}function p(o,c,i){f!==c&&(document.title=t+" "+n[c],e.set("page",c),i||window.pushHistory(),h?(d[f]=l.scrollTop,h.onPageClose&&h.onPageClose(),l.replaceChild(o,h)):(l.appendChild(o),u&&l.appendChild(u)),h=o),o.render||(o.render=!0,o.onRender()),l.scrollTop=d[c]||0,o.onPageOpen&&o.onPageOpen(!!i),s.onPageOpen&&s.onPageOpen(f,c,o),f=c}window.addEventListener("popstate",function(){c(),o(),g(null,!0)}),this.openPage=g,this.init=function(){c(),o(),g(null,!0)},this.onPageOpen=null}function p(t,n){if(null==t)throw new TypeError("State signal not given");return new w(t,n)}function w(t,n){const e=document.createElement("div");let o,c=t.state;t.addListener(function(t){c!==t&&(c=t,t?(o.replaceChild(n,e),n.onRender&&n.onRender()):(n.onDestroy&&n.onDestroy(),o.replaceChild(e,n)))}),this.init=function(t){o=t,c&&n.onRender&&n.onRender(),t.appendChild(c?n:e)}}function E(t,...n){const e=document.createElement("div");return t&&u(t,e),n.length&&i(e,n),e}function y(t,...n){const e=document.createElement("nav");return t&&u(t,e),n.length&&i(e,n),e}function b(t,...n){const e=document.createElement("ul");return t&&u(t,e),n.length&&i(e,n),e}function v(t,...n){const e=document.createElement("li");return t&&u(t,e),n.length&&i(e,n),e}function x(t,n,e,...o){const c=document.createElement("input");return t&&u(t,c),n&&(c.placeholder=n),e&&(c.id=e),o.length&&i(c,o),c}function C(t,n,e,...o){const c=document.createElement("label");return t&&u(t,c),n&&r(n,c),e&&(e.id||(e.id=Math.random().toString(16).substring(2)),c.htmlFor=e.id),o.length&&i(c,o),c}function S(t,n,e,...o){const c=document.createElement("input");return c.type="checkbox",t&&u(t,c),c.onchange=n,e&&(c.id=e),o.length&&i(c,o),c}function N(t,n,e,o,...c){const r=document.createElement("input");r.type="checkbox",r.onchange=o,r.checked=!!e;const s=document.createElement("div");s.className="checkmark";const l=document.createElement("label");return l.className="checkboxWithName noSelect",t&&u(t,l),l.appendChild(r),l.appendChild(s),l.appendChild(document.createTextNode(n)),l.input=r,c.length&&i(l,c),l}function L(t,n,e,...o){const c=document.createElement("button");return t&&u(t,c),n&&r(n,c),e&&(c.onclick=e),o.length&&i(c,o),c}function O(t,...n){const e=document.createElement("table");return t&&u(t,e),n.length&&i(e,n),e}function P(t,...n){const e=document.createElement("thead");return t&&u(t,e),n.length&&i(e,n),e}function T(t,...n){const e=document.createElement("tbody");return t&&u(t,e),n.length&&i(e,n),e}function k(t,...n){const e=document.createElement("colgroup");return t&&u(t,e),n.length&&i(e,n),e}function R(t,...n){const e=document.createElement("col");return t&&u(t,e),n.length&&i(e,n),e}function j(t,...n){const e=document.createElement("tr");return t&&u(t,e),n.length&&i(e,n),e}function H(t,n,...e){const o=document.createElement("th");return n&&u(n,o),t&&r(t,o),e.length&&i(o,e),o}function A(t,n,...e){const o=document.createElement("td");return n&&u(n,o),t&&r(t,o),e.length&&i(o,e),o}function D(t,n,...e){const o=document.createElement("h1");return n&&u(n,o),t&&r(t,o),e.length&&i(o,e),o}function U(t,n,...e){const o=document.createElement("h2");return n&&u(n,o),t&&r(t,o),e.length&&i(o,e),o}function F(t,n,...e){const o=document.createElement("h3");return n&&u(n,o),t&&r(t,o),e.length&&i(o,e),o}function J(t,n,...e){const o=document.createElement("h4");return n&&u(n,o),t&&r(t,o),e.length&&i(o,e),o}function M(t,n,...e){const o=document.createElement("h5");return n&&u(n,o),t&&r(t,o),e.length&&i(o,e),o}function B(t,n,...e){const o=document.createElement("h6");return n&&u(n,o),t&&r(t,o),e.length&&i(o,e),o}function W(t,n,e,o,...c){const s=document.createElement("a");return e&&u(e,s),n&&(s.href=n),t&&r(t,s),o&&(s.onclick=o),c.length&&i(s,c),s}function q(t,n,...e){const o=document.createElement("p");return n&&u(n,o),t&&r(t,o),e.length&&i(o,e),o}function z(t,n,...e){const o=document.createElement("span");return n&&u(n,o),t&&r(t,o),e.length&&i(o,e),o}function G(t){if(n&&"string"!=typeof t){const e=document.createTextNode(t);return n.warn(e,"text type error: ",t),e}return document.createTextNode(t)}function I(){return document.createElement("br")}function K(t,n,...e){const o=document.createElement("img");return n&&u(n,o),t&&(o.src=t),e.length&&i(o,e),o}function Q(t,n,e,...o){const c=document.createElementNS("http://www.w3.org/2000/svg","svg");return c.innerHTML=t,e&&c.setAttributeNS(null,"class",e),n&&c.setAttributeNS(null,"viewBox",n),o.length&&i(c,o),c}function V(t){const n=document.createElement("link");return n.rel="stylesheet",n.href=t,n.mount=function(){document.head.appendChild(n)},n.unmount=function(){document.head.removeChild(n)},n.enable=function(){n.disabled=!1},n.disable=function(){n.disabled=!0},n}function X(...t){const n=document.createElement("footer");return t.length&&i(n,t),n}function Y(t,n,...e){const o=document.createElement("iframe");return n&&u(n,o),t&&(o.src=t),e.length&&i(o,e),o}function Z(t,n,...e){const o=document.createElement(t);return n&&u(n,o),e.length&&i(o,e),o}function $(){n=console}window.urlHashData=null,o(),window.pushHistory=function(){const o=new URL(window.location),c=JSON.stringify(window.urlHashData);o.hash="{}"===c?"":btoa(c.toUnicode()),o.search=e.toString(),n&&n.log("Append history",window.urlHashData,Object.fromEntries(e)),t?window.history.pushState({},document.title,o):window.location=o};export{s as Signal,p as ShowIf,l as State,d as TextState,f as ClassList,g as QueryRouter,m as RouterLazyLoad,$ as doomHelperDebug,E as div,y as nav,b as ul,v as li,C as label,x as input,S as checkbox,N as checkboxWithName,L as button,O as table,P as thead,T as tbody,k as colgroup,R as col,H as th,j as tr,A as td,D as h1,U as h2,F as h3,J as h4,M as h5,B as h6,W as a,q as p,z as span,G as text,I as br,K as img,Q as svg,V as mountableStylesheet,X as footer,Y as iframe,Z as dom};