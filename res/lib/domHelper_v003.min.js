"use strict";const n="function"==typeof window.history.pushState;let r=null,g=(String.prototype.toUnicode=function(){return this.replace(/[^\x00-\xFF]/g,function(t){return"\\u"+t.charCodeAt(0).toString(16).padStart(4,"0")})},new URLSearchParams(window.location.search));function e(){window.urlHashData=1<window.location.hash.length?JSON.parse(atob(window.location.hash.slice(1))):{}}function p(){g=new URLSearchParams(window.location.search)}function i(e,n){for(let t=0;t<n.length;t++){var o=n[t];o instanceof Array?i(e,o):o instanceof Element||o instanceof Text?e.appendChild(o):o instanceof u||o instanceof m?o.init(e):o instanceof a?new u(o).init(e):o instanceof Object?Object.assign(e,o):r&&o&&r.warn(e,"options type error: ",o)}}function c(t,e){t instanceof a?e.textContent=new s(t).init(e):t instanceof s?e.textContent=t.init(e):"string"==typeof t||"number"==typeof t?e.textContent=t:r&&r.warn(e,"text type error: ",t)}function l(t,e){t instanceof d?t.init(e):"string"==typeof t?e.className+=t:r&&r.warn(e,"classname type error: ",t)}function a(t){const n=[];this.state=void 0!==t?t:null,this.addListener=function(t){n.push(t)},this.removeListener=function(t){t=n.indexOf(t);-1!==t&&n.splice(t,1)},this.set=function(e,t){if(this.state!==e||t){this.state=e;for(let t=0;t<n.length;t++)n[t](e)}},this.update=function(){for(let t=0;t<n.length;t++)n[t](this.state)}}function t(t,e){if(null==t)throw new TypeError("State signal not given");return new u(t,e)}function u(e,n){let o,a;function r(t){t=n?n(t):t;a.replaceChild(t,o),o=t}this.init=function(t){(a=t).appendChild(o=n?n(e.state):e.state||document.createElement("div")),e.addListener(r)}}function o(t,e){if(null==t)throw new TypeError("State signal not given");return new s(t,e)}function s(e,n){let o=null;e.addListener(function(t){o.textContent=n?n(t):t}),this.init=function(t){return o=t,n?n(e.state):e.state}}function d(...t){const a=t;this.add=this.remove=this.toggle=this.contains=function(){},this.init=function(o){if(o.classList){for(let t=0;t<a.length;t++)o.classList.add(a[t]);this.add=function(t){o.classList.add(t)},this.remove=function(t){o.classList.remove(t)},this.toggle=function(t){return o.classList.toggle(t)},this.contains=function(t){return o.classList.contains(t)}}else o.className+=a.join(" "),this.add=function(...t){Array.prototype.push.apply(a,t),o.className=a.join(" ")},this.remove=function(...e){for(let t=0;t<e.length;t++){var n=a.indexOf(e[t]);-1!==n&&a.splice(n,1)}o.className=a.join(" ")},this.toggle=function(t){var e=a.indexOf(t),e=-1!==e?(a.splice(e,1),!1):(a.push(t),!0);return o.className=a.join(" "),e},this.contains=function(t){return-1!==a.indexOf(t)}}}function v(t,...e){this.url=t,this.parameters=e,this.loding=!1}function h(o,r,i,c,a){const l=this,u=this.element=document.createElement("div"),s=(u.className="router",{}),d={};let h=null,f=null;function t(t,n){if(t=t||g.get("page")||i,f!==t||n){var o=t=r[t]&&c[t]?t:i,a=n;let e=s[o];e?m(e,o,a):(e=c[o])instanceof v?e.loding||(e.loding=!0,t=window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/")+1),import(t+e.url).then(function(t){t=t.default(l,...e.parameters);t.pageId=o,m(s[o]=t,o,a),e.loding=!1})):(e.pageId=o,m(s[o]=e,o,a))}}function m(t,e,n){f!==e&&(document.title=o+" "+r[e],g.set("page",e),n||window.pushHistory(),h?(d[f]=u.scrollTop,h.onPageClose&&h.onPageClose(),u.replaceChild(t,h)):(u.appendChild(t),a&&u.appendChild(a)),h=t),t.render||(t.render=!0,t.onRender()),u.scrollTop=d[e]||0,t.onPageOpen&&t.onPageOpen(!!n),l.onPageOpen&&l.onPageOpen(f,e,t),f=e}p(),e(),document.title=o+" "+r[g.get("page")||i],window.addEventListener("popstate",function(){p(),e(),t(null,!0)}),this.openPage=t,this.initFirstPage=function(){t(null,!0)},this.getPageStorage=function(t){let e;try{var n=localStorage.getItem(t.pageId);e=n?JSON.parse(n):{}}catch(t){e={}}return e.storageSave=function(){localStorage.setItem(t.pageId,JSON.stringify(this))},e},this.getCurrentPage=function(){return f},this.onPageOpen=null}function f(t,e){if(null==t)throw new TypeError("State signal not given");return new m(t,e)}function m(t,e){const n=document.createElement("div");let o=t.state,a;t.addListener(function(t){o!==t&&((o=t)?(a.replaceChild(e,n),e.onRender&&e.onRender()):(e.onDestroy&&e.onDestroy(),a.replaceChild(n,e)))}),this.init=function(t){a=t,o&&e.onRender&&e.onRender(),t.appendChild(o?e:n)}}function w(t,...e){var n=document.createElement("div");return t&&l(t,n),e.length&&i(n,e),n}function E(t,...e){var n=document.createElement("nav");return t&&l(t,n),e.length&&i(n,e),n}function y(t,...e){var n=document.createElement("ul");return t&&l(t,n),e.length&&i(n,e),n}function b(t,...e){var n=document.createElement("li");return t&&l(t,n),e.length&&i(n,e),n}function S(t,e,n,...o){var a=document.createElement("input");return t&&l(t,a),e&&(a.placeholder=e),n&&(a.id=n),o.length&&i(a,o),a}function x(t,e,n,...o){var a=document.createElement("label");return t&&l(t,a),e&&c(e,a),n&&(n.id||(n.id=Math.random().toString(16).substring(2)),a.htmlFor=n.id),o.length&&i(a,o),a}function C(t,e,...n){var o=document.createElement("label");return t&&l(t,o),e&&c(e,o),n.length&&i(o,n),o}function N(t,e,n,...o){var a=document.createElement("input");return a.type="checkbox",t&&l(t,a),a.onchange=e,n&&(a.id=n),o.length&&i(a,o),a}function L(t,e,n,o,...a){var r=document.createElement("input"),o=(r.type="checkbox",r.onchange=o,r.checked=!!n,document.createElement("div")),n=(o.className="checkmark",document.createElement("label"));return n.className="checkboxWithName noSelect",t&&l(t,n),n.appendChild(r),n.appendChild(o),n.appendChild(document.createTextNode(e)),n.input=r,a.length&&i(n,a),n}function O(t,e,n,...o){var a=document.createElement("button");return t&&l(t,a),e&&c(e,a),n&&(a.onclick=n),o.length&&i(a,o),a}function P(t,...e){var n=document.createElement("table");return t&&l(t,n),e.length&&i(n,e),n}function k(t,...e){var n=document.createElement("thead");return t&&l(t,n),e.length&&i(n,e),n}function T(t,...e){var n=document.createElement("tbody");return t&&l(t,n),e.length&&i(n,e),n}function R(t,...e){var n=document.createElement("colgroup");return t&&l(t,n),e.length&&i(n,e),n}function I(t,...e){var n=document.createElement("col");return t&&l(t,n),e.length&&i(n,e),n}function H(t,...e){var n=document.createElement("tr");return t&&l(t,n),e.length&&i(n,e),n}function j(t,e,...n){var o=document.createElement("th");return e&&l(e,o),t&&c(t,o),n.length&&i(o,n),o}function D(t,e,...n){var o=document.createElement("td");return e&&l(e,o),t&&c(t,o),n.length&&i(o,n),o}function A(t,e,...n){var o=document.createElement("h1");return e&&l(e,o),t&&c(t,o),n.length&&i(o,n),o}function F(t,e,...n){var o=document.createElement("h2");return e&&l(e,o),t&&c(t,o),n.length&&i(o,n),o}function U(t,e,...n){var o=document.createElement("h3");return e&&l(e,o),t&&c(t,o),n.length&&i(o,n),o}function J(t,e,...n){var o=document.createElement("h4");return e&&l(e,o),t&&c(t,o),n.length&&i(o,n),o}function M(t,e,...n){var o=document.createElement("h5");return e&&l(e,o),t&&c(t,o),n.length&&i(o,n),o}function W(t,e,...n){var o=document.createElement("h6");return e&&l(e,o),t&&c(t,o),n.length&&i(o,n),o}function z(t,e,n,o,...a){var r=document.createElement("a");return n&&l(n,r),e&&(r.href=e),t&&c(t,r),o&&(r.onclick=o),a.length&&i(r,a),r}function B(t,e,...n){var o=document.createElement("p");return e&&l(e,o),t&&c(t,o),n.length&&i(o,n),o}function Q(t,e,...n){var o=document.createElement("span");return e&&l(e,o),t&&c(t,o),n.length&&i(o,n),o}function q(t){var e;return r&&"string"!=typeof t?(e=document.createTextNode(t),r.warn(e,"text type error: ",t),e):document.createTextNode(t)}function G(){return document.createElement("br")}function K(t,e,n,...o){var a=document.createElement("img");return n&&l(n,a),t&&(a.src=t),null!=e?a.alt=e:r&&r.warn(a,"Image alt not given"),o.length&&i(a,o),a}function V(t,e,n,...o){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");return a.innerHTML=t,n&&a.setAttributeNS(null,"class",n),e&&a.setAttributeNS(null,"viewBox",e),o.length&&i(a,o),a}function X(t){const e=document.createElement("link");return e.rel="stylesheet",e.href=t,e.mount=function(){document.head.appendChild(e)},e.unmount=function(){document.head.removeChild(e)},e.enable=function(){e.disabled=!1},e.disable=function(){e.disabled=!0},e}function Y(...t){var e=document.createElement("footer");return t.length&&i(e,t),e}function Z(t,e,...n){var o=document.createElement("iframe");return e&&l(e,o),t&&(o.src=t),n.length&&i(o,n),o}function $(t,e,...n){t=document.createElement(t);return e&&l(e,t),n.length&&i(t,n),t}function _(){r=console}window.urlHashData=null,e(),window.pushHistory=function(){var t=new URL(window.location),e=JSON.stringify(window.urlHashData);t.hash="{}"===e?"":btoa(e.toUnicode()),t.search=g.toString(),r&&r.log("Append history",window.urlHashData,Object.fromEntries(g)),n?window.history.pushState({},document.title,t):window.location=t};export{a as Signal,f as ShowIf,t as State,o as TextState,d as ClassList,h as QueryRouter,v as RouterLazyLoad,_ as doomHelperDebug,w as div,E as nav,y as ul,b as li,x as labelFor,C as label,S as input,N as checkbox,L as checkboxWithName,O as button,P as table,k as thead,T as tbody,R as colgroup,I as col,j as th,H as tr,D as td,A as h1,F as h2,U as h3,J as h4,M as h5,W as h6,z as a,B as p,Q as span,q as text,G as br,K as img,V as svg,X as mountableStylesheet,Y as footer,Z as iframe,$ as dom};